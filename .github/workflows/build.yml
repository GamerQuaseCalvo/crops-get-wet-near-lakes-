name: Build Stardew Valley Mod

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up .NET SDK 9.0
        run: |
          wget https://download.visualstudio.microsoft.com/download/pr/3606de37-1325-4f5f-bbe9-1bc44b3c1c7f/91872629e9f0c205cace9c462d5e89a4/dotnet-sdk-9.0.200-linux-x64.tar.gz
          mkdir -p $HOME/dotnet
          tar -xvf dotnet-sdk-9.0.200-linux-x64.tar.gz -C $HOME/dotnet
          export PATH=$PATH:$HOME/dotnet

      - name: Build Mod
        run: |
          dotnet build src/Mod.csproj